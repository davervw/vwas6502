# 6502 hosted disassembler

On the [path](../../README.md) of creating an assembler is creating a disassembler.  Originally developed and tested on C64, using only character out so is trivial to port to another 6502 system.

This assembler is table driven.  There are symmetrical lists of opcode bytes, instruction indexes, addressing mode indexes, and instruction lengths.  And there is a jump table for each addressing mode.  This data was extracted from the [C# assembler project](../dotnet/README.md).

This project is built using [ACME](https://sourceforge.net/projects/acme-crossass/) and [VICE](https://vice-emu.sourceforge.io/) from a custom shell script (build.sh).  [Visual Studio Code](https://code.visualstudio.com/) and [Acme Cross Assembler extension](https://marketplace.visualstudio.com/items?itemName=TonyLandi.acmecrossassembler) for syntax highlighting and editing are recommended, but not required.

Test disassembly of itself:
````


READY.
C000 4C 1F C0 JMP $C01F
C003 EA       NOP 
C004 AD 34 12 LDA $1234
C007 BD 34 12 LDA $1234,X
C00A B9 34 12 LDA $1234,Y
C00D 0A       ASL A
C00E A9 12    LDA #$12
C010 A1 12    LDA ($12,X)
C012 B1 12    LDA ($12),Y
C014 6C 34 12 JMP ($1234)
C017 D0 FE    BNE $C017
C019 A5 12    LDA $12
C01B B5 12    LDA $12,X
C01D B6 12    LDX $12,Y
C01F A9 00    LDA #$00
C021 A2 C0    LDX #$C0
C023 85 FB    STA $FB
C025 86 FC    STX $FC
C027 A9 FE    LDA #$FE
C029 A2 C1    LDX #$C1
C02B 85 FD    STA $FD
C02D 86 FE    STX $FE
C02F A0 00    LDY #$00
C031 B1 FB    LDA ($FB),Y
C033 20 68 C0 JSR $C068
C036 85 23    STA $23
C038 86 22    STX $22
C03A 84 25    STY $25
C03C A6 22    LDX $22
C03E BD EF C3 LDA $C3EF,X
C041 85 24    STA $24
C043 A5 23    LDA $23
C045 20 A9 C0 JSR $C0A9
C048 A5 25    LDA $25
C04A 10 02    BPL $C04E
C04C A9 01    LDA #$01
C04E 18       CLC 
C04F 65 FB    ADC $FB
C051 85 FB    STA $FB
C053 90 02    BCC $C057
C055 E6 FC    INC $FC
C057 20 5D C0 JSR $C05D
C05A 90 D3    BCC $C02F
C05C 60       RTS 
C05D A5 FC    LDA $FC
C05F C5 FE    CMP $FE
C061 D0 04    BNE $C067
C063 A5 FB    LDA $FB
C065 C5 FD    CMP $FD
C067 60       RTS 
C068 A0 97    LDY #$97
C06A A2 96    LDX #$96
C06C DD C1 C2 CMP $C2C1,X
C06F F0 0A    BEQ $C07B
C071 CA       DEX 
C072 88       DEY 
C073 D0 F7    BNE $C06C
C075 18       CLC 
C076 A9 FF    LDA #$FF
C078 AA       TAX 
C079 A8       TAY 
C07A 60       RTS 
C07B BD 58 C3 LDA $C358,X
C07E BC 86 C4 LDY $C486,X
C081 60       RTS 
C082 20 68 C0 JSR $C068
C085 8A       TXA 
C086 AA       TAX 
C087 E0 38    CPX #$38
C089 B0 12    BCS $C09D
C08B BD FF C1 LDA $C1FF,X
C08E 20 D2 FF JSR $FFD2
C091 BD 37 C2 LDA $C237,X
C094 20 D2 FF JSR $FFD2
C097 BD 6F C2 LDA $C26F,X
C09A 4C D2 FF JMP $FFD2
C09D A9 3F    LDA #$3F
C09F 20 D2 FF JSR $FFD2
C0A2 20 D2 FF JSR $FFD2
C0A5 20 D2 FF JSR $FFD2
C0A8 60       RTS 
C0A9 A5 FB    LDA $FB
C0AB A6 FC    LDX $FC
C0AD 20 E2 C1 JSR $C1E2
C0B0 A9 20    LDA #$20
C0B2 20 D2 FF JSR $FFD2
C0B5 A0 00    LDY #$00
C0B7 A6 25    LDX $25
C0B9 B1 FB    LDA ($FB),Y
C0BB 20 E8 C1 JSR $C1E8
C0BE A9 20    LDA #$20
C0C0 20 D2 FF JSR $FFD2
C0C3 C8       INY 
C0C4 CA       DEX 
C0C5 D0 F2    BNE $C0B9
C0C7 C0 03    CPY #$03
C0C9 F0 0E    BEQ $C0D9
C0CB A9 20    LDA #$20
C0CD 20 D2 FF JSR $FFD2
C0D0 20 D2 FF JSR $FFD2
C0D3 20 D2 FF JSR $FFD2
C0D6 C8       INY 
C0D7 D0 EE    BNE $C0C7
C0D9 A5 23    LDA $23
C0DB 20 86 C0 JSR $C086
C0DE A9 20    LDA #$20
C0E0 20 D2 FF JSR $FFD2
C0E3 20 EB C0 JSR $C0EB
C0E6 A9 0D    LDA #$0D
C0E8 4C D2 FF JMP $FFD2
C0EB A5 24    LDA $24
C0ED C9 0D    CMP #$0D
C0EF B0 0A    BCS $C0FB
C0F1 0A       ASL A
C0F2 AA       TAX 
C0F3 BD A8 C2 LDA $C2A8,X
C0F6 48       PHA 
C0F7 BD A7 C2 LDA $C2A7,X
C0FA 48       PHA 
C0FB 60       RTS 
C0FC A9 41    LDA #$41
C0FE 4C D2 FF JMP $FFD2
C101 60       RTS 
C102 A9 23    LDA #$23
C104 20 D2 FF JSR $FFD2
C107 A9 24    LDA #$24
C109 20 D2 FF JSR $FFD2
C10C A0 01    LDY #$01
C10E B1 FB    LDA ($FB),Y
C110 4C E8 C1 JMP $C1E8
C113 A9 28    LDA #$28
C115 20 D2 FF JSR $FFD2
C118 A9 24    LDA #$24
C11A 20 D2 FF JSR $FFD2
C11D A0 01    LDY #$01
C11F B1 FB    LDA ($FB),Y
C121 20 E8 C1 JSR $C1E8
C124 A9 2C    LDA #$2C
C126 20 D2 FF JSR $FFD2
C129 A9 58    LDA #$58
C12B 20 D2 FF JSR $FFD2
C12E A9 29    LDA #$29
C130 4C D2 FF JMP $FFD2
C133 A9 28    LDA #$28
C135 20 D2 FF JSR $FFD2
C138 A9 24    LDA #$24
C13A 20 D2 FF JSR $FFD2
C13D A0 01    LDY #$01
C13F B1 FB    LDA ($FB),Y
C141 20 E8 C1 JSR $C1E8
C144 A9 29    LDA #$29
C146 20 D2 FF JSR $FFD2
C149 A9 2C    LDA #$2C
C14B 20 D2 FF JSR $FFD2
C14E A9 59    LDA #$59
C150 4C D2 FF JMP $FFD2
C153 A9 24    LDA #$24
C155 20 D2 FF JSR $FFD2
C158 18       CLC 
C159 A5 FB    LDA $FB
C15B 69 02    ADC #$02
C15D 85 26    STA $26
C15F A5 FC    LDA $FC
C161 69 00    ADC #$00
C163 85 27    STA $27
C165 A0 01    LDY #$01
C167 B1 FB    LDA ($FB),Y
C169 10 14    BPL $C17F
C16B 49 FF    EOR #$FF
C16D 18       CLC 
C16E 69 01    ADC #$01
C170 85 FF    STA $FF
C172 38       SEC 
C173 A5 26    LDA $26
C175 E5 FF    SBC $FF
C177 85 26    STA $26
C179 B0 0D    BCS $C188
C17B C6 27    DEC $27
C17D 90 09    BCC $C188
C17F 18       CLC 
C180 65 26    ADC $26
C182 85 26    STA $26
C184 90 02    BCC $C188
C186 E6 27    INC $27
C188 A5 26    LDA $26
C18A A6 27    LDX $27
C18C 4C E2 C1 JMP $C1E2
C18F 20 07 C1 JSR $C107
C192 A9 2C    LDA #$2C
C194 20 D2 FF JSR $FFD2
C197 A9 58    LDA #$58
C199 4C D2 FF JMP $FFD2
C19C 20 07 C1 JSR $C107
C19F A9 2C    LDA #$2C
C1A1 20 D2 FF JSR $FFD2
C1A4 A9 59    LDA #$59
C1A6 4C D2 FF JMP $FFD2
C1A9 A9 24    LDA #$24
C1AB 20 D2 FF JSR $FFD2
C1AE A0 01    LDY #$01
C1B0 B1 FB    LDA ($FB),Y
C1B2 48       PHA 
C1B3 C8       INY 
C1B4 B1 FB    LDA ($FB),Y
C1B6 AA       TAX 
C1B7 68       PLA 
C1B8 4C E2 C1 JMP $C1E2
C1BB 20 A9 C1 JSR $C1A9
C1BE A9 2C    LDA #$2C
C1C0 20 D2 FF JSR $FFD2
C1C3 A9 58    LDA #$58
C1C5 4C D2 FF JMP $FFD2
C1C8 20 A9 C1 JSR $C1A9
C1CB A9 2C    LDA #$2C
C1CD 20 D2 FF JSR $FFD2
C1D0 A9 59    LDA #$59
C1D2 4C D2 FF JMP $FFD2
C1D5 A9 28    LDA #$28
C1D7 20 D2 FF JSR $FFD2
C1DA 20 A9 C1 JSR $C1A9
C1DD A9 29    LDA #$29
C1DF 4C D2 FF JMP $FFD2
C1E2 48       PHA 
C1E3 8A       TXA 
C1E4 20 E8 C1 JSR $C1E8
C1E7 68       PLA 
C1E8 48       PHA 
C1E9 4A       LSR A
C1EA 4A       LSR A
C1EB 4A       LSR A
C1EC 4A       LSR A
C1ED 20 F1 C1 JSR $C1F1
C1F0 68       PLA 
C1F1 29 0F    AND #$0F
C1F3 09 30    ORA #$30
C1F5 C9 3A    CMP #$3A
C1F7 90 02    BCC $C1FB
C1F9 69 06    ADC #$06
C1FB 4C D2 FF JMP $FFD2

READY.

````